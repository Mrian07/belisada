<div class="contain">

  <div class="contain__sub" *ngFor="let item of buyerDiscus.content">
    <div>
      <div class="contain__image">
        <img [src]="imgProduct + item.productImage" [alt]="item.productImage">
      </div>

      <div class="contain__btn-detail" (click)="detail(item.productId, item.productName)">
        Lihat Detail
      </div>
    </div>
    <div class="contain__val">
      <div class="contain__val__com"> 
        <div class="storeImgDiscussion">
          <img [src]="storeImgDiscussion + item.imageAvatarUrl" [alt]="item.imageAvatarUrl">
        </div>
        <div>
          <div class="contain__name">{{item.name}}</div>
          <div class="contain__com">{{item.message}}</div>
        </div>  
      </div>
      <div class="cRep">
        <div class="contain__val__rep" *ngFor="let iChild of item.childs">  
            <div>
                <img [src]="storeImgDiscussionChild + iChild.imageAvatarUrl" [alt]="iChild.imageAvatarUrl">
            </div>
            <div>
              <div class="contain__name">{{iChild.name}}</div>
              <div class="contain__com">{{iChild.message}}</div>
            </div>  
        </div>
      </div>
      <form class="ui form" [formGroup]="createComForm" (ngSubmit)="onSubmit()" novalidate>
        <input type="hidden" class="input-c" formControlName="discusParentId">
        <input type="hidden" class="input-c" formControlName="productId">
      <div class="contain__val__form"> 
          <!-- <div>
            Image
          </div> -->
          <div class="contain__val__form__right">
            <textarea class="field-form" formControlName="message"></textarea>
            <!-- <app-field-error-display  [displayError]="isFieldValid('message')" errorMsg="Pesan tidak boleh kosong"></app-field-error-display> -->
            <button class="btn btn-kirim">Kirim</button>
          </div>  
      </div>
      </form> 
    </div>
  </div>

  <div class="empty-discus" *ngIf="buyerDiscus.totalElements==0">
    Maaf tidak ada diskusi yang tersedia.
  </div>

  <div class="paging" *ngIf="buyerDiscus.totalElements!=0">
    <ul>
        <li>
            <a (click)="setPage(1)" [ngClass]="{disabled:currentPage == 1}">First</a>
        </li>
        <li>
            <a (click)="setPage(currentPage, -1)" [ngClass]="{disabled:(currentPage-1) < 1}">Previous</a>
        </li>
        <li *ngFor="let p of pages">
            <a (click)="setPage(p)" [ngClass]="currentPage == p?'current-page':''">{{p}}</a>
        </li>
        <li>
            <a (click)="setPage(currentPage, +1)" [ngClass]="{disabled:currentPage == lastPage}">Next</a>
        </li>
        <li>
            <a (click)="setPage(lastPage)" [ngClass]="{disabled:currentPage == lastPage}">Last</a>
        </li>
    </ul>
  </div>
  
</div>
