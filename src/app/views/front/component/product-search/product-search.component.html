
<div class="gap-between-elements"></div>
<div class="wrapper">
    <div class="header-search gap-between-elements" ><p *ngIf="keys !== undefined">HASIL PENCARIAN <b>"{{ keys }}"</b></p></div>

    <div class="sidebar-search">

        <div class="accordion-loop" *ngFor="let item of sidebarFilters">
            <button class="accordion">{{ item.filter }}
                <i class="dropdown icon"></i>
            </button>
            <div class="panel">
                <div class="grouped fields" *ngIf="item.filterAlias !== 'Price'">
                    <div class="field" *ngFor="let data of item.data">
                        <div class="ui checkbox">
                            <input type="checkbox" (change)="updateFilter(item.filterAlias, data)" [name]="data.valueId" [id]="data.valueId">
                            <label [for]="data.valueId">{{ data.value }} ({{ data.count }})</label>
                        </div>
                    </div>
                </div>
                <div *ngIf="item.filterAlias === 'Price'">
                    <nouislider *ngFor="let price of item.data" [connect]="true" [min]="price.min" [max]="price.max" [step]="1" [(ngModel)]="someRange" ></nouislider>

                    <div class="ui grid">
                        <div class="seven wide column mini ui input">
                            <input type="text" id="priceMin" [value]="someRange[0]">
                        </div>
                        <div class="two wide column text-center">
                            -
                        </div>
                        <div class="seven wide column mini ui input">
                            <input type="text" id="priceMax" [value]="someRange[1]">
                        </div>
                    </div>

                    <div class="ui grid">
                        <div class="sixteen wide column" style="padding-top:0">
                            <button type="button" class="fluid mini ui blue button" (click)="generateFilterParams()">Submit</button>
                        </div>
                    </div>
                    <!-- <input type="text" [value]="someRange[0]">
                    <input type="text" [value]="someRange[1]"> -->
                </div>

            </div>
        </div>

        <!-- <ul>
            <li *ngFor="let item of sidebarFilters">{{ item.filter }}
                <i class="plus icon"></i>
                <ul>
                    <li *ngFor="let data of item.data">
                        {{ data.value }}
                    </li>
                </ul>
            </li>
        </ul> -->
    </div>
    <div class="main-search" [ngClass]="listStyleType">
        <ul class="filter">
            <li>Items {{start + 1}} to {{end}} of {{total}}</li>
            <li>
                Tampilan
                <i class="list layout icon" (click)="listStyle('list-row')"></i>
                <i class="grid layout icon" (click)="listStyle('list-grid')"></i>
            </li>
            <li class="sort-filter">
                <sui-select placeholder="Atur Berdasarkan" [(ngModel)]="selectedOption" class="selection">
                    <sui-select-option *ngFor="let option of sortOrder" value="{{option.sort}}" [value]="option.ob" (click)="sortThis(option.ob)" ></sui-select-option>
                </sui-select>
            </li>
        </ul>
        <!-- <p class="text-center" *ngIf="loading === true">loading</p> -->
        <p class="text-center" *ngIf="loading === false && total === 0">Tidak Ada Produk</p>
        <div class="ui active centered inline loader" *ngIf="loading === true">
                <div class="ui small text loader">Loading</div>
              </div>
              <p></p>

        <div class="search-results" *ngFor="let item of productSearchResault.productList">

            <div class="prodimg" align="center">
                 <img class="ui image" src="{{item.imageurl}}" onError="this.src='/assets/img/no-image.png'">
            </div>
            <!-- <div class="clear-fix"></div> -->
            <div class="header-title"><a (click)="detail(item.productId, item.aliasName)" class="item" style="cursor: pointer;"> <strong>{{item.name | truncate : 35 }}</strong></a></div>
            <div class="price pricelist">Rp {{item.pricelist | number}}<br/>
                <div class="yu">
                    Stok: {{item.stock}}
                    <img *ngIf="item.isAsapShipping === 'Y'" src="/assets/img/asap_big.png" alt="">
                </div>
                <!-- <div class="yu"><i class="info circle icon"></i>Stok Tersedia</div> -->
                <!-- <span class="yu">di Jual oleh</span> <span class="yu3">Samsung</span> -->

            </div>
            <div class="highlight">
<<<<<<< HEAD
                <sui-rating [maximum]="5" [isReadonly]="true" [(ngModel)]="item.rate"></sui-rating>
=======
                <sui-rating class="star gedein" [ngModel]="item.rate" [maximum]="5" [isReadonly]="true"></sui-rating>
>>>>>>> f2525b7f4cf2a873165115b223fa3b6e2b4f4d64
                <p [innerHTML] = "item.highlight | words: 15 | sanitizeHtml ">
                    <!-- {{item.highlight}} -->
                </p>
            <!-- <div [innerHTML]="item.highlight | sanitizeHtml | truncate : 20 : '.'"></div> -->
            </div>

            <!-- <div class="clear-fix"></div> -->
        </div>

        <div class="paging">
            <ul>
                <li>
                    <a (click)="setPage(1)" [ngClass]="{disabled:currentPage == 1}">First</a>
                </li>
                <li>
                    <a (click)="setPage(currentPage - 1)" [ngClass]="{disabled:(currentPage-1) < 1}">Previous</a>
                </li>
                <li *ngFor="let p of pages">
                    <a (click)="setPage(p)" [ngClass]="currentPage == p?'current-page':''">{{p}}</a>
                </li>
                <li>
                    <a (click)="setPage(currentPage + 1)" [ngClass]="{disabled:currentPage == lastPages}">Next</a>
                </li>
                <li>
                    <a (click)="setPage(lastPages)" [ngClass]="{disabled:currentPage == lastPages}">Last</a>
                </li>
            </ul>
        </div>
    </div>
</div>

